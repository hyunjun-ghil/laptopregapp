<%@ page language="java" contentType="text/html; charset=utf-8" pageEncoding="utf-8"%>
<!DOCTYPE html>
<html lang="ko">
<head>
<%@ include file="/WEB-INF/include/include-header.jspf"%>
<style>
body {
	display: -ms-flexbox;
	display: flex;
	-ms-flex-align: center;
	align-items: center;
	padding-top: 40px;
	padding-bottom: 40px;
	background: linear-gradient(to top, rgba(236, 240, 245, 0.8),
		rgba(236, 240, 245, 0));
}
</style>

<style>
.search_button {
	font: Arial, Helvetica, sans-serif;
	text-shadow: 0 1px 1px rgba(0, 0, 0, .2);
	background-color: rgba(30, 30, 170, 0.1);
	color: black;
	border: 1.5px solid gray;
	border-radius: 5px;
	border-top-left-radius: 5px;
	border-top-right-radius: 5px;
	border-bottom-left-radius: 5px;
	border-bottom-right-radius: 5px;
	background: linear-gradient(to right, rgba(30, 30, 170, 0.1),
		rgba(30, 30, 170, 0.2));
	box-shadow: 0 1px 2px rgba(0, 0, 0, .2);
}

.form-signin {
	width: 100%;
	max-width: 330px;
	padding: 15px;
	margin: auto;
}

.form-signin .checkbox {
	font-weight: 400;
}

.form-signin .form-control {
	position: relative;
	box-sizing: border-box;
	height: auto;
	padding: 10px;
	font-size: 16px;
}

.form-signin .form-control:focus {
	z-index: 2;
}

.form-signin input[type="text"] {
	margin-bottom: -1px;
	border-bottom-right-radius: 0;
	border-bottom-left-radius: 0;
}

.form-signin input[type="password"] {
	margin-bottom: 10px;
	border-top-left-radius: 0;
	border-top-right-radius: 0;
}

.bd-placeholder-img {
	font-size: 1.125rem;
	text-anchor: middle;
	-webkit-user-select: none;
	-moz-user-select: none;
	-ms-user-select: none;
	user-select: none;
}

@media ( min-width : 768px) {
	.bd-placeholder-img-lg {
		font-size: 3.5rem;
	}
}
</style>
</head>

<body class="text-center">
	<form class="form-signin" id="frm" method="post" action="ussales/selectUserInform.do">
		<div class="h3">
			<img src="/images/kd.png" width="30px" style="margin-top: -6px;" /> <strong style="font-size: 18px">KD 미국법인 물류 조회 시스템</strong>
		</div>
		<br /> <span class="h3 mb-3 font-weight-normal" style="font-size: 23px;"><strong>계정 로그인</strong></span> <br /> <br />
		<div id="loginDiv">
			<input type="text" id="USERID" name="USERID" class="form-control" placeholder="사용자 아이디" required autofocus> 
			<input type="password" id="USERPASS" name="USERPASS" class="form-control" placeholder="비밀번호">
		</div>
		<div class="checkbox mb-3" style="display: none;">
			<label> <input type="checkbox" value="remember-me" id="idSaveCheck"> 사용자 이름 기억
			</label>
		</div>
		<br />
		<button class="search_button" style="width: 45%; height: 40px;" type="submit" id="login">LOGIN</button>
		<button class="search_button" style="width: 45%; height: 40px;" type="submit" id="btnc">취소</button>

		<%@ include file="/WEB-INF/include/include-footer.jspf"%>
	</form>
</body>


<script type="text/javascript">
	$(document).ready(function() {

		// 저장된 쿠키값을 가져와서 ID 칸에 넣어준다. 없으면 공백으로 들어감.
		var userInputId = getCookie("userInputId");
		$("input[name='USERID']").val(userInputId);

		if ($("input[name='USERID']").val() != "") { // 그 전에 ID를 저장해서 처음 페이지 로딩 시, 입력 칸에 저장된 ID가 표시된 상태라면,
			$("#idSaveCheck").attr("checked", true); // ID 저장하기를 체크 상태로 두기.
		}

		$("#idSaveCheck").change(function() { // 체크박스에 변화가 있다면,
			if ($("#idSaveCheck").is(":checked")) { // ID 저장하기 체크했을 때,
				var userInputId = $("input[name='USERID']").val();
				setCookie("userInputId", userInputId, 7); // 7일 동안 쿠키 보관
			} else { // ID 저장하기 체크 해제 시,
				deleteCookie("userInputId");
			}
		});

		// ID 저장하기를 체크한 상태에서 ID를 입력하는 경우, 이럴 때도 쿠키 저장.
		$("input[name='USERID']").keyup(function() { // ID 입력 칸에 ID를 입력할 때,
			if ($("#idSaveCheck").is(":checked")) { // ID 저장하기를 체크한 상태라면,
				var userInputId = $("input[name='USERID']").val();
				setCookie("userInputId", userInputId, 7); // 7일 동안 쿠키 보관
			}
		});

		$("#login").on("click", function(e) { //로그인 버튼
			e.preventDefault();
			fn_login();
		});

		$("input[name='USERPASS']").keydown(function() {
			if (event.keyCode == 13)
				fn_login();
		});

		$("#btn1").on("click", function(e) { //운송기사
			//e.preventDefault();
			$("#USERID").attr("placeholder", "모바일 번호(-없이)");
			$("#CarNo").show();
			fn_show_login();
		});
		$("#btn2").on("click", function(e) { //인수자(납품처)
			//e.preventDefault();
			$("#USERID").attr("placeholder", "모바일 번호(-없이)");
			$("#OutNo").show();
			fn_show_login();
		});
		$("#btn3").on("click", function(e) { //KD/파트너
			//e.preventDefault();
			$("#USERID").attr("placeholder", "사용자 아이디 입력");
			$("#USERPASS").show();
			fn_show_login();
		});
		$("#btnc").on("click", function(e) { //KD/파트너
			//e.preventDefault();
			location.reload();
		});

	});

	function setCookie(cookieName, value, exdays) {
		var exdate = new Date();
		exdate.setDate(exdate.getDate() + exdays);
		var cookieValue = escape(value)
				+ ((exdays == null) ? "" : "; expires=" + exdate.toGMTString());
		document.cookie = cookieName + "=" + cookieValue;
	}

	function deleteCookie(cookieName) {
		var expireDate = new Date();
		expireDate.setDate(expireDate.getDate() - 1);
		document.cookie = cookieName + "= " + "; expires="
				+ expireDate.toGMTString();
	}

	function getCookie(cookieName) {
		cookieName = cookieName + '=';
		var cookieData = document.cookie;
		var start = cookieData.indexOf(cookieName);
		var cookieValue = '';
		if (start != -1) {
			start += cookieName.length;
			var end = cookieData.indexOf(';', start);
			if (end == -1)
				end = cookieData.length;
			cookieValue = cookieData.substring(start, end);
		}
		return unescape(cookieValue);
	}

	function fn_login() {

		if ($.trim($("#USERID").val()) == "") {
			alert("사용자 이름을 입력하세요");
			$("#USERID").focus();
			return;
		}
		/*
		if($.trim($("#USERPASS").val()) == "")
		{
			alert("비밀번호를 입력하세요");
			$("#USERPASS").focus();
			return;
		}
		 */
		$("#frm").submit();
		/*
		var comSubmit = new ComSubmit("frm");
		comSubmit.setUrl("<c:url value='/LoginProcess.do' />");
		comSubmit.submit();
		 */
	}

	function fn_show_login() {
		$("#loginDiv").show();
		$("#introDiv").hide();
	}
</script>
<!-- Bottom scripts (common) -->
<script src="/js/responsive-tables.js" type="text/javascript"></script>
</body>
</html>
